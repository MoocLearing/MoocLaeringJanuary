@model Mooc.Data.Entities.User
@{

    Layout = null;
}


<!DOCTYPE html>
<html lang="en" class="no-js">
<head>

    <meta charset="utf-8">
    <title>后台登录</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link rel="stylesheet" href="~/assets/css/reset.css">
    <link rel="stylesheet" href="~/assets/css/supersized.css">
    <link rel="stylesheet" href="~/assets/css/style.css" />
</head>

<body>

    <div class="page-container">
        <h1>后台登录</h1>
        <form action="" method="post">
            <input type="text" name="username" class="username" placeholder="用户名" id="usernametext" >
            
            <input type="password" name="password" class="password" placeholder="密码" id="passwordtext" >
            
            <div style="float:left">
                <input type="checkbox" name="checkme" value="checked" style="height:20px;width:20px;" />  记住我的cookie
            </div>

            <button type="submit" onclick="submit()">登录</button>
            <div class="error"><span>+</span></div>
        </form>

    </div>

    <!-- Javascript -->
    <script src="~/assets/js/jquery-1.8.2.min.js"></script>
    <script src="~/assets/js/supersized.3.2.7.min.js"></script>
    <script src="~/assets/js/supersized-init.js"></script>
    <script src="~/assets/js/scripts.js"></script>

</body>

<script>
    function submit() {
        var username = $.trim($("#usernametext").val());
        if (username == "") {
            alert("用户不能为空");
            return;
        }
        var password = $.trim($("#passwordtext").val());
         if (password == "") {
            alert("密码不能为空");
            return;
        }


    $.ajax({
            url: "@Url.Content("~/Admin/Account/Login/")",
            data: {"Username":username,"Password":password,"CheckMe":checkme},
            type: "POST", dataType: 'json',
            success: function (data) {

                if (data.code == 0) {
                    window.location = "@Url.Content("~/Admin/User/Index")";

                    // window.location.reload(); //当前页面重新刷新
                }
                else {
                    alert(data.msg)
                    return false;
                }
        }


        })
    }
</script>


</html>

